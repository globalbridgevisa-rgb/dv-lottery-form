<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DV Lottery Application - Global Bridge</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --usa-blue: #1e3c72;
            --usa-red: #b31942;
            --usa-white: #ffffff;
            --light-blue: #2a5298;
            --light-gray: #f8f9fa;
            --border-color: #e1e5eb;
        }

        body {
            background: linear-gradient(135deg, var(--usa-blue) 0%, var(--light-blue) 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 20px;
            color: #333;
        }

        .container {
            background: var(--usa-white);
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 800px;
            margin: 20px 0;
            overflow: hidden;
            border: 2px solid var(--usa-red);
        }

        .header {
            background: linear-gradient(135deg, var(--usa-blue) 0%, var(--light-blue) 100%);
            color: white;
            padding: 25px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 5px;
            font-weight: 700;
        }

        .language-switcher {
            position: absolute;
            top: 20px;
            right: 20px;
        }

        .lang-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .lang-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .form-container {
            padding: 30px;
        }

        .section-title {
            font-size: 20px;
            color: var(--usa-blue);
            margin: 25px 0 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--usa-red);
            font-weight: 600;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: var(--usa-blue);
            font-weight: 600;
            font-size: 15px;
        }

        .required::after {
            content: " *";
            color: var(--usa-red);
        }

        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            background-color: var(--light-gray);
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--usa-blue);
            background-color: white;
            box-shadow: 0 0 0 3px rgba(30, 60, 114, 0.1);
        }

        .help-text {
            font-size: 13px;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }

        .dynamic-section {
            background: #f0f7ff;
            border: 1px solid #c5d9f1;
            border-radius: 8px;
            padding: 20px;
            margin-top: 15px;
            display: none;
        }

        .phone-input {
            display: flex;
            gap: 10px;
        }

        .country-code {
            width: 150px;
        }

        .phone-number {
            flex: 1;
        }

        .flag-icon {
            margin-right: 8px;
        }

        .btn-add {
            background: var(--usa-blue);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            margin: 10px 0;
        }

        .btn-add:hover {
            background: var(--light-blue);
        }

        .child-item {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .child-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .btn-remove {
            background: var(--usa-red);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .file-input {
            padding: 10px;
            background-color: #f8f9fa;
            border: 2px dashed #dee2e6;
        }

        .file-input:focus {
            border-color: var(--usa-blue);
        }

        .trust-badges {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }

        .badge {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            color: var(--usa-blue);
            font-weight: 600;
        }

        .badge i {
            color: var(--usa-red);
            margin-right: 8px;
        }

        .privacy-notice {
            background-color: #f0f7ff;
            border: 1px solid #c5d9f1;
            border-radius: 8px;
            padding: 20px;
            margin-top: 25px;
            text-align: center;
            color: var(--usa-blue);
        }

        .btn-submit {
            width: 100%;
            background: linear-gradient(135deg, var(--usa-blue) 0%, var(--light-blue) 100%);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(30, 60, 114, 0.4);
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 0;
            }
            
            .form-container {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .phone-input {
                flex-direction: column;
            }
            
            .country-code {
                width: 100%;
            }
            
            .trust-badges {
                grid-template-columns: 1fr;
            }
        }

        .child-fields {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .child-fields {
                grid-template-columns: 1fr;
            }
        }

        /* RTL Support for Arabic */
        [dir="rtl"] {
            text-align: right;
        }
        
        [dir="rtl"] .language-switcher {
            right: auto;
            left: 20px;
        }
        
        [dir="rtl"] .badge i {
            margin-right: 0;
            margin-left: 8px;
        }
        
        [dir="rtl"] .btn-add i {
            margin-right: 0;
            margin-left: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="language-switcher">
                <button class="lang-btn" id="languageBtn">English / العربية</button>
            </div>
            <h1 id="mainTitle">DV Lottery Application Form</h1>
            <p id="subTitle">U.S. Diversity Visa Program - Official Application</p>
        </div>

        <div class="form-container">
            <form id="dvLotteryForm">
                <!-- Personal Information Section -->
                <h3 class="section-title" id="personalInfoTitle">Personal Information</h3>
                
                <div class="form-group">
                    <label for="fullName" class="required" id="fullNameLabel">Full Name</label>
                    <input type="text" id="fullName" name="fullName" required 
                           placeholder="Enter full name in English as in passport/birth certificate">
                    <div class="help-text" id="fullNameHelp">Enter your full name exactly as it appears in your passport</div>
                </div>

                <div class="form-group">
                    <label for="birthDate" class="required" id="birthDateLabel">Date of Birth</label>
                    <input type="date" id="birthDate" name="birthDate" required>
                </div>

                <div class="form-group">
                    <label for="education" class="required" id="educationLabel">Education Level</label>
                    <select id="education" name="education" required>
                        <option value="">Select Education Level</option>
                        <option value="high_school">High School</option>
                        <option value="diploma">Diploma</option>
                        <option value="bachelor">Bachelor's Degree</option>
                        <option value="master">Master's Degree</option>
                        <option value="phd">Doctorate (PhD)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="maritalStatus" class="required" id="maritalStatusLabel">Marital Status</label>
                    <select id="maritalStatus" name="maritalStatus" required>
                        <option value="">Select Marital Status</option>
                        <option value="single">Single</option>
                        <option value="married">Married</option>
                        <option value="divorced">Divorced</option>
                        <option value="widowed">Widowed</option>
                    </select>
                </div>

                <!-- Dynamic Sections for Married Status -->
                <div id="marriedSection" class="dynamic-section">
                    <h4 id="spouseInfoTitle">Spouse Information</h4>
                    <div class="form-group">
                        <label for="spouseName" class="required" id="spouseNameLabel">Spouse Full Name</label>
                        <input type="text" id="spouseName" name="spouseName" 
                               placeholder="Enter spouse full name in English">
                    </div>
                    <div class="form-group">
                        <label for="spouseBirthDate" class="required" id="spouseBirthDateLabel">Spouse Date of Birth</label>
                        <input type="date" id="spouseBirthDate" name="spouseBirthDate">
                    </div>
                    <div class="form-group">
                        <label for="spouseBirthPlace" class="required" id="spouseBirthPlaceLabel">Place of Birth</label>
                        <input type="text" id="spouseBirthPlace" name="spouseBirthPlace" 
                               placeholder="Enter place of birth">
                    </div>
                    <div class="form-group">
                        <label for="spouseCityCountry" class="required" id="spouseCityCountryLabel">City and Country</label>
                        <input type="text" id="spouseCityCountry" name="spouseCityCountry" 
                               placeholder="Enter city and country">
                    </div>
                    <div class="form-group">
                        <label for="spouseNationality" class="required" id="spouseNationalityLabel">Nationality</label>
                        <input type="text" id="spouseNationality" name="spouseNationality" 
                               placeholder="Enter nationality">
                    </div>
                </div>

                <!-- Children Section -->
                <div id="childrenSection" class="dynamic-section">
                    <h4 id="childrenInfoTitle">Children Information (Unmarried and under 21 years)</h4>
                    <div id="childrenContainer">
                        <!-- Children will be added here dynamically -->
                    </div>
                    <button type="button" class="btn-add" id="addChild">
                        <i class="fas fa-plus"></i> <span id="addChildText">Add Child</span>
                    </button>
                </div>

                <!-- Contact Information Section -->
                <h3 class="section-title" id="contactInfoTitle">Contact Information</h3>
                
                <div class="form-group">
                    <label for="phone" class="required" id="phoneLabel">Phone Number</label>
                    <div class="phone-input">
                        <select class="country-code" id="phoneCode" required>
                            <option value="">Country Code</option>
                        </select>
                        <input type="tel" class="phone-number" id="phone" name="phone" required 
                               placeholder="Enter phone number">
                    </div>
                </div>

                <div class="form-group">
                    <label for="whatsappOption" class="required" id="whatsappOptionLabel">WhatsApp Number</label>
                    <select id="whatsappOption" name="whatsappOption" required>
                        <option value="">Select WhatsApp Number</option>
                        <option value="same">Same as phone number</option>
                        <option value="different">Different number</option>
                    </select>
                </div>

                <div id="whatsappSection" class="dynamic-section">
                    <div class="phone-input">
                        <select class="country-code" id="whatsappCode">
                            <option value="">Country Code</option>
                        </select>
                        <input type="tel" class="phone-number" id="whatsappNumber" name="whatsappNumber" 
                               placeholder="Enter WhatsApp number">
                    </div>
                </div>

                <div class="form-group">
                    <label for="email" class="required" id="emailLabel">Email Address</label>
                    <input type="email" id="email" name="email" required 
                           placeholder="Enter your email address">
                </div>

                <!-- Payment Method Section -->
                <h3 class="section-title" id="paymentTitle">Payment Method</h3>
                
                <div class="form-group">
                    <label for="payment" class="required" id="paymentLabel">Payment Method</label>
                    <select id="payment" name="payment" required>
                        <option value="">Select Payment Method</option>
                        <option value="click_jordan">Click Transfer (Inside Jordan)</option>
                        <option value="fast_jordan">Fast Transfer (Inside Jordan)</option>
                        <option value="western_union">Western Union - Fast Transfer (Outside Jordan)</option>
                    </select>
                </div>

                <!-- Documents Section -->
                <h3 class="section-title" id="documentsTitle">Required Documents</h3>
                
                <div class="form-group">
                    <label for="passport" class="required" id="passportLabel">Passport Photo / Birth Certificate</label>
                    <input type="file" id="passport" name="passport" class="file-input" required 
                           accept=".pdf,.jpg,.jpeg,.png">
                    <div class="help-text" id="passportHelp">Allowed files: PDF, JPG, PNG - Must meet US official requirements</div>
                </div>

                <div class="form-group">
                    <label for="personalPhoto" class="required" id="personalPhotoLabel">Personal Photo</label>
                    <input type="file" id="personalPhoto" name="personalPhoto" class="file-input" required 
                           accept=".jpg,.jpeg,.png">
                    <div class="help-text" id="personalPhotoHelp">Allowed files: JPG, PNG - Must meet US official requirements</div>
                </div>

                <!-- Additional Documents for Married -->
                <div id="spouseDocuments" class="dynamic-section">
                    <h4 id="spouseDocumentsTitle">Spouse Documents</h4>
                    <div class="form-group">
                        <label for="spousePassport" class="required" id="spousePassportLabel">Spouse Passport Photo / Birth Certificate</label>
                        <input type="file" id="spousePassport" name="spousePassport" class="file-input" 
                               accept=".pdf,.jpg,.jpeg,.png">
                    </div>
                    <div class="form-group">
                        <label for="spousePersonalPhoto" class="required" id="spousePersonalPhotoLabel">Spouse Personal Photo</label>
                        <input type="file" id="spousePersonalPhoto" name="spousePersonalPhoto" class="file-input" 
                               accept=".jpg,.jpeg,.png">
                    </div>
                </div>

                <!-- Additional Notes -->
                <h3 class="section-title" id="notesTitle">Additional Notes</h3>
                
                <div class="form-group">
                    <label for="notes" id="notesLabel">Additional Notes</label>
                    <textarea id="notes" name="notes" rows="4" 
                              placeholder="Any additional information you would like to add..."></textarea>
                </div>

                <!-- Trust Badges -->
                <div class="trust-badges">
                    <div class="badge">
                        <i class="fas fa-shield-alt"></i>
                        <span id="badge1">Certified by US Department of State</span>
                    </div>
                    <div class="badge">
                        <i class="fas fa-users"></i>
                        <span id="badge2">5000+ Successful Applicants</span>
                    </div>
                    <div class="badge">
                        <i class="fas fa-headset"></i>
                        <span id="badge3">24/7 Technical Support</span>
                    </div>
                    <div class="badge">
                        <i class="fas fa-lock"></i>
                        <span id="badge4">Data Privacy Guaranteed</span>
                    </div>
                </div>

                <!-- Privacy Notice -->
                <div class="privacy-notice">
                    <strong id="privacyText">Global Bridge team will contact you within 24 hours, and data will be processed according to privacy policy.</strong>
                </div>

                <button type="submit" class="btn-submit" id="submitBtn">Submit Application</button>
            </form>
        </div>
    </div>

    <script>
        // Language texts
        const texts = {
            en: {
                mainTitle: "DV Lottery Application Form",
                subTitle: "U.S. Diversity Visa Program - Official Application",
                personalInfoTitle: "Personal Information",
                fullNameLabel: "Full Name",
                fullNameHelp: "Enter your full name exactly as it appears in your passport",
                birthDateLabel: "Date of Birth",
                educationLabel: "Education Level",
                maritalStatusLabel: "Marital Status",
                spouseInfoTitle: "Spouse Information",
                spouseNameLabel: "Spouse Full Name",
                spouseBirthDateLabel: "Spouse Date of Birth",
                spouseBirthPlaceLabel: "Place of Birth",
                spouseCityCountryLabel: "City and Country",
                spouseNationalityLabel: "Nationality",
                childrenInfoTitle: "Children Information (Unmarried and under 21 years)",
                addChildText: "Add Child",
                contactInfoTitle: "Contact Information",
                phoneLabel: "Phone Number",
                whatsappOptionLabel: "WhatsApp Number",
                emailLabel: "Email Address",
                paymentTitle: "Payment Method",
                paymentLabel: "Payment Method",
                documentsTitle: "Required Documents",
                passportLabel: "Passport Photo / Birth Certificate",
                passportHelp: "Allowed files: PDF, JPG, PNG - Must meet US official requirements",
                personalPhotoLabel: "Personal Photo",
                personalPhotoHelp: "Allowed files: JPG, PNG - Must meet US official requirements",
                spouseDocumentsTitle: "Spouse Documents",
                spousePassportLabel: "Spouse Passport Photo / Birth Certificate",
                spousePersonalPhotoLabel: "Spouse Personal Photo",
                notesTitle: "Additional Notes",
                notesLabel: "Additional Notes",
                badge1: "Certified by US Department of State",
                badge2: "5000+ Successful Applicants",
                badge3: "24/7 Technical Support",
                badge4: "Data Privacy Guaranteed",
                privacyText: "Global Bridge team will contact you within 24 hours, and data will be processed according to privacy policy.",
                submitBtn: "Submit Application",
                childNameLabel: "Child Full Name",
                childBirthDateLabel: "Date of Birth",
                childBirthPlaceLabel: "Place of Birth",
                childGenderLabel: "Gender",
                childNationalityLabel: "Nationality",
                removeChild: "Remove"
            },
            ar: {
                mainTitle: "نموذج التقديم على قرعة الهجرة الأمريكية",
                subTitle: "برنامج تأشيرة التنوع الأمريكي - تقديم رسمي",
                personalInfoTitle: "المعلومات الشخصية",
                fullNameLabel: "الاسم الكامل",
                fullNameHelp: "ادخل الاسم الكامل كما هو في جواز السفر",
                birthDateLabel: "تاريخ الميلاد",
                educationLabel: "المؤهل الدراسي",
                maritalStatusLabel: "الحالة الاجتماعية",
                spouseInfoTitle: "معلومات الزوج/الزوجة",
                spouseNameLabel: "الاسم الكامل للزوج/الزوجة",
                spouseBirthDateLabel: "تاريخ ميلاد الزوج/الزوجة",
                spouseBirthPlaceLabel: "مكان الميلاد",
                spouseCityCountryLabel: "المدينة والدولة",
                spouseNationalityLabel: "الجنسية",
                childrenInfoTitle: "معلومات الأبناء (غير متزوجين وأقل من 21 سنة)",
                addChildText: "إضافة طفل",
                contactInfoTitle: "معلومات الاتصال",
                phoneLabel: "رقم الهاتف",
                whatsappOptionLabel: "رقم الواتساب",
                emailLabel: "البريد الإلكتروني",
                paymentTitle: "طريقة الدفع",
                paymentLabel: "طريقة الدفع",
                documentsTitle: "المستندات المطلوبة",
                passportLabel: "صورة جواز السفر / شهادة الميلاد",
                passportHelp: "الملفات المسموحة: PDF, JPG, PNG - يجب أن تفي بالمتطلبات الرسمية الأمريكية",
                personalPhotoLabel: "الصورة الشخصية",
                personalPhotoHelp: "الملفات المسموحة: JPG, PNG - يجب أن تفي بالمتطلبات الرسمية الأمريكية",
                spouseDocumentsTitle: "مستندات الزوج/الزوجة",
                spousePassportLabel: "صورة جواز سفر الزوج/الزوجة / شهادة الميلاد",
                spousePersonalPhotoLabel: "الصورة الشخصية للزوج/الزوجة",
                notesTitle: "ملاحظات إضافية",
                notesLabel: "ملاحظات إضافية",
                badge1: "موثق من وزارة الخارجية الأمريكية",
                badge2: "أكثر من 5000 متقدم ناجح",
                badge3: "دعم فني 24/7",
                badge4: "خصوصية البيانات مضمونة",
                privacyText: "فريق Global Bridge سيتواصل معكم خلال 24 ساعة، وسيتم معالجة البيانات وفقا لسياسة الخصوصية",
                submitBtn: "إرسال الطلب",
                childNameLabel: "الاسم الكامل للطفل",
                childBirthDateLabel: "تاريخ الميلاد",
                childBirthPlaceLabel: "مكان الميلاد",
                childGenderLabel: "الجنس",
                childNationalityLabel: "الجنسية",
                removeChild: "حذف"
            }
        };

        // Country codes data - محدث ومصحح
        const countryCodes = [
            { code: "+1", name: "United States", flag: "us" },
            { code: "+44", name: "United Kingdom", flag: "gb" },
            { code: "+962", name: "Jordan", flag: "jo" },
            { code: "+966", name: "Saudi Arabia", flag: "sa" },
            { code: "+971", name: "UAE", flag: "ae" },
            { code: "+973", name: "Bahrain", flag: "bh" },
            { code: "+974", name: "Qatar", flag: "qa" },
            { code: "+965", name: "Kuwait", flag: "kw" },
            { code: "+968", name: "Oman", flag: "om" },
            { code: "+20", name: "Egypt", flag: "eg" },
            { code: "+213", name: "Algeria", flag: "dz" },
            { code: "+216", name: "Tunisia", flag: "tn" },
            { code: "+212", name: "Morocco", flag: "ma" },
            { code: "+964", name: "Iraq", flag: "iq" },
            { code: "+963", name: "Syria", flag: "sy" },
            { code: "+961", name: "Lebanon", flag: "lb" },
            { code: "+970", name: "Palestine", flag: "ps" },
            { code: "+218", name: "Libya", flag: "ly" },
            { code: "+249", name: "Sudan", flag: "sd" },
            { code: "+967", name: "Yemen", flag: "ye" },
            { code: "+253", name: "Djibouti", flag: "dj" },
            { code: "+252", name: "Somalia", flag: "so" },
            { code: "+33", name: "France", flag: "fr" },
            { code: "+49", name: "Germany", flag: "de" },
            { code: "+39", name: "Italy", flag: "it" },
            { code: "+34", name: "Spain", flag: "es" },
            { code: "+31", name: "Netherlands", flag: "nl" },
            { code: "+32", name: "Belgium", flag: "be" },
            { code: "+41", name: "Switzerland", flag: "ch" },
            { code: "+46", name: "Sweden", flag: "se" },
            { code: "+47", name: "Norway", flag: "no" },
            { code: "+45", name: "Denmark", flag: "dk" },
            { code: "+358", name: "Finland", flag: "fi" },
            { code: "+7", name: "Russia", flag: "ru" },
            { code: "+90", name: "Turkey", flag: "tr" },
            { code: "+86", name: "China", flag: "cn" },
            { code: "+81", name: "Japan", flag: "jp" },
            { code: "+82", name: "South Korea", flag: "kr" },
            { code: "+91", name: "India", flag: "in" },
            { code: "+92", name: "Pakistan", flag: "pk" },
            { code: "+93", name: "Afghanistan", flag: "af" },
            { code: "+98", name: "Iran", flag: "ir" },
            { code: "+60", name: "Malaysia", flag: "my" },
            { code: "+63", name: "Philippines", flag: "ph" },
            { code: "+65", name: "Singapore", flag: "sg" },
            { code: "+66", name: "Thailand", flag: "th" },
            { code: "+84", name: "Vietnam", flag: "vn" },
            { code: "+61", name: "Australia", flag: "au" },
            { code: "+64", name: "New Zealand", flag: "nz" },
            { code: "+55", name: "Brazil", flag: "br" },
            { code: "+54", name: "Argentina", flag: "ar" },
            { code: "+56", name: "Chile", flag: "cl" },
            { code: "+57", name: "Colombia", flag: "co" },
            { code: "+52", name: "Mexico", flag: "mx" },
            { code: "+51", name: "Peru", flag: "pe" },
            { code: "+1", name: "Canada", flag: "ca" }
        ];

        let currentLanguage = 'en';
        let childCount = 0;

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeCountryCodes();
            initializeEventListeners();
            updateLanguage('en');
        });

        // Initialize country codes dropdown - مصحح
        function initializeCountryCodes() {
            const phoneCodeSelect = document.getElementById('phoneCode');
            const whatsappCodeSelect = document.getElementById('whatsappCode');
            
            // Clear existing options
            phoneCodeSelect.innerHTML = '<option value="">Country Code</option>';
            whatsappCodeSelect.innerHTML = '<option value="">Country Code</option>';
            
            countryCodes.forEach(country => {
                const option1 = new Option(`${country.code} ${country.name}`, country.code);
                const option2 = new Option(`${country.code} ${country.name}`, country.code);
                
                phoneCodeSelect.add(option1);
                whatsappCodeSelect.add(option2);
            });
        }

        // Initialize event listeners - مصحح
        function initializeEventListeners() {
            const maritalStatus = document.getElementById('maritalStatus');
            const marriedSection = document.getElementById('marriedSection');
            const childrenSection = document.getElementById('childrenSection');
            const spouseDocuments = document.getElementById('spouseDocuments');
            const whatsappOption = document.getElementById('whatsappOption');
            const whatsappSection = document.getElementById('whatsappSection');
            const addChildBtn = document.getElementById('addChild');
            const languageBtn = document.getElementById('languageBtn');

            // Marital status change handler - مصحح
            maritalStatus.addEventListener('change', function() {
                const status = this.value;
                
                // Hide all dynamic sections first
                marriedSection.style.display = 'none';
                childrenSection.style.display = 'none';
                spouseDocuments.style.display = 'none';

                // Show relevant sections based on status
                if (status === 'married') {
                    marriedSection.style.display = 'block';
                    spouseDocuments.style.display = 'block';
                    childrenSection.style.display = 'block';
                } else if (status === 'divorced' || status === 'widowed') {
                    childrenSection.style.display = 'block';
                }
            });

            // WhatsApp option handler
            whatsappOption.addEventListener('change', function() {
                if (this.value === 'different') {
                    whatsappSection.style.display = 'block';
                } else {
                    whatsappSection.style.display = 'none';
                }
            });

            // Add child functionality - مصحح
            addChildBtn.addEventListener('click', function() {
                addChild();
            });

            // Language switcher - مصحح
            languageBtn.addEventListener('click', function() {
                currentLanguage = currentLanguage === 'en' ? 'ar' : 'en';
                updateLanguage(currentLanguage);
                this.textContent = currentLanguage === 'en' ? 'English / العربية' : 'العربية / English';
                
                // Update direction
                document.documentElement.dir = currentLanguage === 'ar' ? 'rtl' : 'ltr';
            });

            // Form submission handler
            document.getElementById('dvLotteryForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Basic validation
                const phone = document.getElementById('phone').value;
                const email = document.getElementById('email').value;
                
                if (!phone) {
                    alert(currentLanguage === 'en' ? 'Please enter your phone number' : 'يرجى إدخال رقم الهاتف');
                    return;
                }

                const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailPattern.test(email)) {
                    alert(currentLanguage === 'en' ? 'Please enter a valid email address' : 'يرجى إدخال بريد إلكتروني صحيح');
                    return;
                }

                // Success message
                const successMsg = currentLanguage === 'en' 
                    ? 'Thank you for submitting the form ✅ Global Bridge team will contact you via WhatsApp within 24 hours.'
                    : 'شكرًا لتعبئة النموذج ✅ فريق Global Bridge سيتواصل معك عبر الواتساب خلال 24 ساعة.';
                
                alert(successMsg);
            });

            // Initialize hidden sections
            marriedSection.style.display = 'none';
            childrenSection.style.display = 'none';
            spouseDocuments.style.display = 'none';
            whatsappSection.style.display = 'none';
        }

        // Add child function - مصحح بالكامل
        function addChild() {
            childCount++;
            const childrenContainer = document.getElementById('childrenContainer');
            const childDiv = document.createElement('div');
            childDiv.className = 'child-item';
            childDiv.innerHTML = `
                <div class="child-header">
                    <h5>${currentLanguage === 'en' ? 'Child' : 'طفل'} ${childCount}</h5>
                    <button type="button" class="btn-remove" onclick="this.parentElement.parentElement.remove()">
                        <i class="fas fa-times"></i> ${texts[currentLanguage].removeChild}
                    </button>
                </div>
                <div class="child-fields">
                    <div class="form-group">
                        <label class="required">${texts[currentLanguage].childNameLabel}</label>
                        <input type="text" name="childName${childCount}" required 
                               placeholder="${currentLanguage === 'en' ? 'Enter child full name in English' : 'ادخل الاسم الكامل للطفل بالإنجليزية'}">
                    </div>
                    <div class="form-group">
                        <label class="required">${texts[currentLanguage].childBirthDateLabel}</label>
                        <input type="date" name="childBirthDate${childCount}" required>
                    </div>
                    <div class="form-group">
                        <label class="required">${texts[currentLanguage].childBirthPlaceLabel}</label>
                        <input type="text" name="childBirthPlace${childCount}" required 
                               placeholder="${currentLanguage === 'en' ? 'Enter place of birth' : 'ادخل مكان الميلاد'}">
                    </div>
                    <div class="form-group">
                        <label class="required">${texts[currentLanguage].childGenderLabel}</label>
                        <select name="childGender${childCount}" required>
                            <option value="">${currentLanguage === 'en' ? 'Select Gender' : 'اختر الجنس'}</option>
                            <option value="male">${currentLanguage === 'en' ? 'Male' : 'ذكر'}</option>
                            <option value="female">${currentLanguage === 'en' ? 'Female' : 'أنثى'}</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="required">${texts[currentLanguage].childNationalityLabel}</label>
                        <input type="text" name="childNationality${childCount}" required 
                               placeholder="${currentLanguage === 'en' ? 'Enter nationality' : 'ادخل الجنسية'}">
                    </div>
                </div>
                <div class="form-group">
                    <label class="required">${currentLanguage === 'en' ? 'Child Passport Photo / Birth Certificate' : 'صورة جواز سفر الطفل / شهادة الميلاد'}</label>
                    <input type="file" name="childPassport${childCount}" class="file-input" required 
                           accept=".pdf,.jpg,.jpeg,.png">
                </div>
                <div class="form-group">
                    <label class="required">${currentLanguage === 'en' ? 'Child Personal Photo' : 'الصورة الشخصية للطفل'}</label>
                    <input type="file" name="childPhoto${childCount}" class="file-input" required 
                           accept=".jpg,.jpeg,.png">
                </div>
            `;
            childrenContainer.appendChild(childDiv);
        }

        // Update language function - مصحح
        function updateLanguage(lang) {
            currentLanguage = lang;
            
            // Update all text elements
            Object.keys(texts[lang]).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = texts[lang][key];
                }
            });
            
            // Update placeholders
            const fullNameInput = document.getElementById('fullName');
            if (fullNameInput) {
                fullNameInput.placeholder = lang === 'en' 
                    ? 'Enter full name in English as in passport/birth certificate'
                    : 'ادخل الاسم الكامل بالإنجليزية كما في جواز السفر/شهادة الميلاد';
            }
            
            const emailInput = document.getElementById('email');
            if (emailInput) {
                emailInput.placeholder = lang === 'en' 
                    ? 'Enter your email address'
                    : 'ادخل بريدك الإلكتروني';
            }
            
            const notesInput = document.getElementById('notes');
            if (notesInput) {
                notesInput.placeholder = lang === 'en' 
                    ? 'Any additional information you would like to add...'
                    : 'أي معلومات إضافية تريد إضافتها...';
            }
            
            // Update select options
            const educationSelect = document.getElementById('education');
            if (educationSelect) {
                educationSelect.innerHTML = lang === 'en' 
                    ? '<option value="">Select Education Level</option><option value="high_school">High School</option><option value="diploma">Diploma</option><option value="bachelor">Bachelor\'s Degree</option><option value="master">Master\'s Degree</option><option value="phd">Doctorate (PhD)</option>'
                    : '<option value="">اختر المؤهل الدراسي</option><option value="high_school">ثانوية عامة</option><option value="diploma">دبلوم</option><option value="bachelor">بكالوريوس</option><option value="master">ماجستير</option><option value="phd">دكتوراه</option>';
            }
            
            const maritalSelect = document.getElementById('maritalStatus');
            if (maritalSelect) {
                maritalSelect.innerHTML = lang === 'en' 
                    ? '<option value="">Select Marital Status</option><option value="single">Single</option><option value="married">Married</option><option value="divorced">Divorced</option><option value="widowed">Widowed</option>'
                    : '<option value="">اختر الحالة الاجتماعية</option><option value="single">أعزب</option><option value="married">متزوج</option><option value="divorced">مطلق</option><option value="widowed">أرمل</option>';
            }
            
            const whatsappSelect = document.getElementById('whatsappOption');
            if (whatsappSelect) {
                whatsappSelect.innerHTML = lang === 'en' 
                    ? '<option value="">Select WhatsApp Number</option><option value="same">Same as phone number</option><option value="different">Different number</option>'
                    : '<option value="">اختر رقم الواتساب</option><option value="same">نفس رقم الهاتف</option><option value="different">رقم مختلف</option>';
            }
            
            const paymentSelect = document.getElementById('payment');
            if (paymentSelect) {
                paymentSelect.innerHTML = lang === 'en' 
                    ? '<option value="">Select Payment Method</option><option value="click_jordan">Click Transfer (Inside Jordan)</option><option value="fast_jordan">Fast Transfer (Inside Jordan)</option><option value="western_union">Western Union - Fast Transfer (Outside Jordan)</option>'
                    : '<option value="">اختر طريقة الدفع</option><option value="click_jordan">حوالة كليك (من داخل الأردن)</option><option value="fast_jordan">حوالة سريعة (من داخل الأردن)</option><option value="western_union">ويسترن يونيون - حوالة سريعة (من خارج الأردن)</option>';
            }
            
            // Update country code placeholders
            const countryCodeSelects = document.querySelectorAll('.country-code option[value=""]');
            countryCodeSelects.forEach(select => {
                select.textContent = lang === 'en' ? 'Country Code' : 'رمز الدولة';
            });
            
            const phoneInputs = document.querySelectorAll('.phone-number');
            phoneInputs.forEach(input => {
                input.placeholder = lang === 'en' ? 'Enter phone number' : 'ادخل رقم الهاتف';
            });
            
            const whatsappInput = document.getElementById('whatsappNumber');
            if (whatsappInput) {
                whatsappInput.placeholder = lang === 'en' ? 'Enter WhatsApp number' : 'ادخل رقم الواتساب';
            }
            
            // Update child items if any exist
            updateExistingChildrenLanguage();
        }

        // Update existing children language
        function updateExistingChildrenLanguage() {
            const childrenItems = document.querySelectorAll('.child-item');
            childrenItems.forEach((item, index) => {
                const childNumber = index + 1;
                const labels = item.querySelectorAll('label');
                const inputs = item.querySelectorAll('input[type="text"], input[type="date"]');
                const selects = item.querySelectorAll('select');
                const removeBtn = item.querySelector('.btn-remove');
                
                if (labels[0]) labels[0].textContent = texts[currentLanguage].childNameLabel;
                if (labels[1]) labels[1].textContent = texts[currentLanguage].childBirthDateLabel;
                if (labels[2]) labels[2].textContent = texts[currentLanguage].childBirthPlaceLabel;
                if (labels[3]) labels[3].textContent = texts[currentLanguage].childGenderLabel;
                if (labels[4]) labels[4].textContent = texts[currentLanguage].childNationalityLabel;
                
                if (inputs[0]) inputs[0].placeholder = currentLanguage === 'en' ? 'Enter child full name in English' : 'ادخل الاسم الكامل للطفل بالإنجليزية';
                if (inputs[1]) inputs[1].placeholder = 'mm/dd/yyyy';
                if (inputs[2]) inputs[2].placeholder = currentLanguage === 'en' ? 'Enter place of birth' : 'ادخل مكان الميلاد';
                if (inputs[3]) inputs[3].placeholder = currentLanguage === 'en' ? 'Enter nationality' : 'ادخل الجنسية';
                
                if (selects[0]) {
                    selects[0].innerHTML = currentLanguage === 'en' 
                        ? '<option value="">Select Gender</option><option value="male">Male</option><option value="female">Female</option>'
                        : '<option value="">اختر الجنس</option><option value="male">ذكر</option><option value="female">أنثى</option>';
                }
                
                if (removeBtn) {
                    removeBtn.innerHTML = `<i class="fas fa-times"></i> ${texts[currentLanguage].removeChild}`;
                }
                
                const childHeader = item.querySelector('h5');
                if (childHeader) {
                    childHeader.textContent = `${currentLanguage === 'en' ? 'Child' : 'طفل'} ${childNumber}`;
                }
            });
        }
    </script>
</body>
</html>